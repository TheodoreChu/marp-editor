{"version":3,"sources":["components/Editor.tsx","reportWebVitals.ts","components/Icons.tsx","vendor/bespoke.ts","index.tsx"],"names":["ComponentDataKey","HtmlElementId","HtmlClassName","ModeType","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","foregroundColor","DownloadIcon","fill","role","aria-label","width","height","viewBox","xmlns","d","HelpIcon","PrintIcon","MouseEvent","modes","type","Edit","label","css","Split","View","debugMode","initialState","mode","printUrl","text","title","keyMap","Map","ScrollTopSplit","ScrollTopView","MarpEditor","props","editorKit","saveTimer","marp","Marp","html","emoji","shortcode","unicode","math","lib","katexFontPath","minifyCSS","script","markdown","breaks","componentDidMount","configureEditorKit","configureResizer","delegate","EditorKitDelegate","setEditorRawText","setState","renderSlides","loadSavedMode","clearUndoHistory","getElementsBySelector","EditorKit","supportsFilesafe","saveNote","onEditorValueChanged","error","console","log","handleInputChange","event","value","target","saveText","state","clearTimeout","debounce","setTimeout","render","view","document","getElementById","scrollY","scrollTop","innerHTML","MarpStyles","MarpContent","savedMode","internal","componentManager","componentDataValueForKey","Mode","setModeFromModeType","platform","e","logDebugMessage","changeMode","setComponentDataValueForKey","removeSelection","selection","window","getSelection","removeAllRanges","editor","Editor","columnResizer","ColumnResizer","pressed","resizerWidth","offsetWidth","addEventListener","Down","classList","add","Dragging","NoSelection","Move","x","clientX","colLeft","style","left","Up","remove","onBlur","clear","onFocus","onKeyDown","set","key","get","preventDefault","onKeyUp","delete","message","object","print","download","streamContextItem","note","content","downloadHtml","undefined","fileName","marpit","getElementsByClassName","setAttribute","HtmlToDownload","downloadUrl","URL","createObjectURL","Blob","link","createElement","href","display","body","appendChild","click","removeChild","revokeObjectURL","this","className","SnComponent","id","tabIndex","Header","map","onClick","rel","HelpButton","DownloadButton","PrintButton","EditorContainer","autoCapitalize","autoComplete","dir","onChange","placeholder","spellCheck","React","Component","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.d23e3274.chunk.js","sourcesContent":["import React from 'react';\nimport { EditorKit, EditorKitDelegate } from 'sn-editor-kit';\nimport Marp from '@marp-team/marp-core';\nimport { debounce } from 'lodash';\nimport { HelpIcon, DownloadIcon, PrintIcon } from './Icons';\n/** This is important */\nimport '@marp-team/marp-core/lib/browser';\n\n/** I am not sure if this is important */\nimport '@marp-team/marp-core/browser';\nimport '@marp-team/marp-core/lib/browser.cjs';\nimport '@marp-team/marp-core/lib/marp';\n\nimport { bespokeHtml, bespokeCss, bespokeScript } from '../vendor/bespoke';\n\nenum ComponentDataKey {\n  Mode = 'mode',\n}\n\nexport enum HtmlElementId {\n  ColumnResizer = 'column-resizer',\n  Editor = 'editor',\n  EditorContainer = 'editor-container',\n  Header = 'header',\n  MarpContent = 'marp-content',\n  MarpEditor = 'marp-editor',\n  MarpStyles = 'marp-styles',\n  View = 'view',\n  HelpButton = 'help-button',\n  DownloadButton = 'download-button',\n  PrintButton = 'print-button',\n}\n\nexport enum HtmlClassName {\n  Dragging = 'dragging',\n  NoSelection = 'no-selection',\n  SnComponent = 'sn-component',\n  Textarea = 'sk-input textarea',\n}\n\ntype Mode = {\n  type: ModeType;\n  label: string;\n  css: string;\n};\n\nenum ModeType {\n  Edit = 0,\n  Split = 1,\n  View = 2,\n}\n\nconst modes = [\n  { type: ModeType.Edit, label: 'Edit', css: 'edit' } as Mode,\n  { type: ModeType.Split, label: 'Split', css: 'split' } as Mode,\n  { type: ModeType.View, label: 'View', css: 'view' } as Mode,\n];\n\nenum MouseEvent {\n  Down = 'mousedown',\n  Move = 'mousemove',\n  Up = 'mouseup',\n}\n\nexport interface EditorInterface {\n  text: string;\n  mode: Mode;\n  platform?: string;\n  printUrl: boolean;\n  title?: string;\n}\nconst debugMode = false;\n\nconst initialState = {\n  mode: modes[1],\n  printUrl: false,\n  text: '',\n  title: '',\n};\n\nconst keyMap = new Map();\nlet ScrollTopSplit = 0;\nlet ScrollTopView = 0;\n\nexport default class MarpEditor extends React.Component<{}, EditorInterface> {\n  editorKit: any;\n  saveTimer: NodeJS.Timeout | undefined;\n  marp = new Marp({\n    // marp-core constructor options\n    html: true,\n    emoji: {\n      shortcode: true,\n      unicode: false,\n    },\n    math: {\n      lib: 'katex',\n      katexFontPath: 'katex/v0.12.0/fonts/',\n    },\n    minifyCSS: false,\n    script: true,\n\n    // We can included Marpit constructor options\n    // https://marpit-api.marp.app/marpit\n    markdown: {\n      breaks: true, // Create a <br/> on new line\n    },\n  });\n\n  constructor(props: EditorInterface) {\n    super(props);\n    this.state = initialState;\n  }\n\n  componentDidMount = () => {\n    this.configureEditorKit();\n    this.configureResizer();\n  };\n\n  configureEditorKit = () => {\n    const delegate = new EditorKitDelegate({\n      /** This loads every time a different note is loaded */\n      setEditorRawText: (text: string) => {\n        this.setState(\n          {\n            text,\n          },\n          () => {\n            this.renderSlides();\n            this.loadSavedMode();\n          }\n        );\n      },\n      clearUndoHistory: () => {},\n      getElementsBySelector: () => [],\n    });\n\n    this.editorKit = new EditorKit({\n      delegate: delegate,\n      mode: 'plaintext',\n      supportsFilesafe: false,\n    });\n  };\n\n  saveNote = (text: string) => {\n    /** This will work in an SN context, but may break the standalone editor,\n     * so we need to catch the error\n     */\n    try {\n      this.editorKit.onEditorValueChanged(text);\n    } catch (error) {\n      console.log('Error saving note:', error);\n    }\n  };\n\n  handleInputChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const target = event.target;\n    const value = target.value;\n    this.saveText(value);\n  };\n\n  saveText = (text: string) => {\n    this.saveNote(text);\n    this.setState(\n      {\n        text: text,\n      },\n      () => {\n        // Do not re-render slides in edit-only mode\n        if (this.state.mode !== modes[0]) {\n          if (this.saveTimer) {\n            clearTimeout(this.saveTimer);\n          }\n          debounce(() => {\n            this.renderSlides();\n          }, 300);\n          this.saveTimer = setTimeout(() => {\n            this.renderSlides();\n          }, 350);\n        }\n      }\n    );\n  };\n\n  renderSlides = () => {\n    // Convert Markdown slide deck into HTML and CSS\n    const { html, css } = this.marp.render(this.state.text);\n\n    const view = document.getElementById(HtmlElementId.View);\n    if (view) {\n      /** This keeps the vertical scroll when rendering the slides */\n      let scrollY = view.scrollTop;\n      view.innerHTML = html;\n      view.scrollTop = scrollY;\n    }\n    const MarpStyles = document.getElementById(HtmlElementId.MarpStyles);\n    if (MarpStyles) {\n      MarpStyles.innerHTML = css;\n    }\n    const MarpContent = document.getElementById(HtmlElementId.MarpContent);\n    if (MarpContent) {\n      MarpContent.innerHTML = html;\n    }\n  };\n\n  loadSavedMode = () => {\n    try {\n      const savedMode = this.editorKit.internal.componentManager.componentDataValueForKey(\n        ComponentDataKey.Mode\n      ) as ModeType;\n      if (debugMode) {\n        console.log('loaded savedMode: ' + savedMode);\n      }\n      // We can't use if(savedMode) because it would return false for 0\n      if (typeof savedMode === 'number') {\n        this.setModeFromModeType(savedMode);\n      }\n      this.setState(\n        {\n          platform: this.editorKit.internal.componentManager.platform,\n        },\n        () => {\n          if (debugMode) {\n            console.log(this.state.platform);\n          }\n        }\n      );\n    } catch (e) {\n      if (debugMode) {\n        console.log('Error when loading saved mode: ' + e);\n      }\n    }\n  };\n\n  setModeFromModeType = (value: ModeType) => {\n    for (const mode of modes) {\n      if (mode.type === value) {\n        this.logDebugMessage('setModeFromModeType mode: ', mode.type);\n        this.setState(\n          {\n            mode,\n          },\n          () => {\n            this.renderSlides();\n          }\n        );\n        return;\n      }\n    }\n  };\n\n  changeMode = (mode: Mode) => {\n    /** Save the scrollTop for Split and View */\n    const view = document.getElementById(HtmlElementId.View);\n    if (view) {\n      if (this.state.mode === modes[1]) {\n        ScrollTopSplit = view.scrollTop;\n      }\n      if (this.state.mode === modes[2]) {\n        ScrollTopView = view.scrollTop;\n      }\n    }\n    this.setState(\n      {\n        mode,\n      },\n      () => {\n        this.renderSlides();\n        /** Load the scrollTop for Split and View */\n        const view = document.getElementById(HtmlElementId.View);\n        if (view) {\n          if (this.state.mode === modes[1]) {\n            view.scrollTop = ScrollTopSplit;\n          }\n          if (this.state.mode === modes[2]) {\n            view.scrollTop = ScrollTopView;\n          }\n        }\n      }\n    );\n    this.logDebugMessage('changeMode mode: ', mode.type);\n    try {\n      this.editorKit.internal.componentManager.setComponentDataValueForKey(\n        ComponentDataKey.Mode,\n        mode.type\n      );\n    } catch (e) {\n      if (debugMode) {\n        console.log('Error saving mode: ' + e);\n      }\n    }\n  };\n\n  removeSelection = () => {\n    let selection = window.getSelection();\n    if (selection) {\n      selection.removeAllRanges();\n    }\n  };\n\n  configureResizer = () => {\n    const MarpEditor = document.getElementById(HtmlElementId.MarpEditor);\n    const editor = document.getElementById(HtmlElementId.Editor);\n    const columnResizer = document.getElementById(HtmlElementId.ColumnResizer);\n    let pressed = false;\n    let safetyOffset = 15;\n    let resizerWidth = 0;\n    if (columnResizer) {\n      resizerWidth = columnResizer.offsetWidth;\n    }\n\n    if (editor && columnResizer) {\n      columnResizer.addEventListener(MouseEvent.Down, (event) => {\n        pressed = true;\n        columnResizer.classList.add(HtmlClassName.Dragging);\n        editor.classList.add(HtmlClassName.NoSelection);\n      });\n    }\n\n    document.addEventListener(MouseEvent.Move, (event) => {\n      if (!pressed) {\n        return;\n      }\n      let x = event.clientX;\n      if (MarpEditor) {\n        if (x < resizerWidth / 2 + safetyOffset) {\n          x = resizerWidth / 2 + safetyOffset;\n        } else if (x > MarpEditor.offsetWidth - resizerWidth - safetyOffset) {\n          x = MarpEditor.offsetWidth - resizerWidth - safetyOffset;\n        }\n      }\n\n      const colLeft = x - resizerWidth / 2;\n      if (columnResizer) {\n        columnResizer.style.left = colLeft + 'px';\n      }\n      if (editor) {\n        editor.style.width = colLeft - safetyOffset + 'px';\n      }\n\n      this.removeSelection();\n    });\n\n    document.addEventListener(MouseEvent.Up, (event) => {\n      if (pressed) {\n        pressed = false;\n        if (columnResizer) {\n          columnResizer.classList.remove(HtmlClassName.Dragging);\n        }\n        if (editor) {\n          editor.classList.remove(HtmlClassName.NoSelection);\n        }\n      }\n    });\n  };\n\n  onBlur = (e: React.FocusEvent) => {\n    keyMap.clear();\n  };\n\n  onFocus = (e: React.FocusEvent) => {};\n\n  onKeyDown = (e: React.KeyboardEvent | KeyboardEvent) => {\n    keyMap.set(e.key, true);\n    // Do nothing if 'Control' and 's' are pressed\n    if (keyMap.get('Control') && keyMap.get('s')) {\n      e.preventDefault();\n    }\n  };\n\n  onKeyUp = (e: React.KeyboardEvent | KeyboardEvent) => {\n    keyMap.delete(e.key);\n  };\n\n  logDebugMessage = (message: string, object: any) => {\n    if (debugMode) {\n      console.log(message, object);\n    }\n  };\n\n  print = () => {\n    this.renderSlides();\n    const MarpContent = document.getElementById(HtmlElementId.MarpContent);\n    if (MarpContent) {\n      MarpContent.style['display'] = 'block';\n    }\n    setTimeout(() => {\n      window.print();\n      if (MarpContent) {\n        MarpContent.style['display'] = 'none';\n      }\n    }, 250);\n  };\n\n  download = () => {\n    this.editorKit.internal.componentManager.streamContextItem((note: any) => {\n      if (note.content.title) {\n        this.setState(\n          {\n            title: note.content.title,\n          },\n          () => {\n            this.downloadHtml(this.state.title + '.html');\n          }\n        );\n      } else {\n        this.downloadHtml('untitled-marp-presentation.html');\n      }\n    });\n    if (this.state.platform === undefined) {\n      this.downloadHtml('untitled-marp-presentation.html');\n    }\n  };\n\n  downloadHtml = (fileName: string) => {\n    //const { html, css } = this.marp.render(this.state.text);\n\n    // This is to make the slides work with Bespoke\n    const css = document.getElementById(HtmlElementId.MarpStyles)?.innerHTML;\n    const marpit = document.getElementsByClassName('marpit');\n    if (marpit[0]) {\n      marpit[0].setAttribute('id', 'p');\n    }\n    const view = document.getElementById(HtmlElementId.View);\n    const html = view?.innerHTML;\n    const HtmlToDownload = `\n    <!DOCTYPE html>\n    <html lang=\"C\">  \n      <head>\n      <meta charset=\"UTF-8\" />\n      <meta\n        name=\"viewport\"\n        content=\"width=device-width,height=device-height,initial-scale=1.0\"\n      />\n      <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\n      <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n      <meta property=\"og:type\" content=\"website\" />\n      <meta name=\"twitter:card\" content=\"summary\" />\n        <title>${\n          this.state.title ? this.state.title : 'Marp Presentation'\n        }</title>\n        ${bespokeCss}\n        <style>${css}</style>\n      </head>\n      <body>\n        ${bespokeHtml}\n        ${html}\n        ${bespokeScript}\n      </body>\n    </html>\n    `;\n\n    const downloadUrl = URL.createObjectURL(\n      new Blob([HtmlToDownload], { type: 'text/html;charset=utf-8' })\n    );\n    const link = document.createElement('a');\n\n    link.href = downloadUrl;\n    link.download = fileName;\n    link.style.display = 'none';\n\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n\n    setTimeout(() => URL.revokeObjectURL(downloadUrl), 3000);\n  };\n\n  render() {\n    const { text } = this.state;\n    return [\n      <div\n        className={\n          HtmlClassName.SnComponent +\n          ' ' +\n          this.state.platform +\n          (this.state.printUrl ? ' print-url' : '')\n        }\n        id={HtmlElementId.MarpEditor}\n        tabIndex={0}\n      >\n        <div id={HtmlElementId.Header}>\n          <div className=\"segmented-buttons-container sk-segmented-buttons\">\n            <div className=\"buttons\">\n              {modes.map((mode) => (\n                <button\n                  onClick={() => this.changeMode(mode)}\n                  className={\n                    'sk-button button ' +\n                    (this.state.mode === mode\n                      ? 'selected info'\n                      : 'sk-secondary-contrast')\n                  }\n                  title={'Turn on ' + mode.label + ' Mode'}\n                >\n                  <div className=\"label\">{mode.label}</div>\n                </button>\n              ))}\n            </div>\n          </div>\n          <a\n            href=\"https://marpeditor.com\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            tabIndex={-1}\n          >\n            <button\n              className={'sk-button button sk-secondary-contrast icon-button'}\n              id={HtmlElementId.HelpButton}\n              title={'Help'}\n            >\n              <span>&nbsp;</span>\n              <HelpIcon role=\"button\" />\n              <span>&nbsp;</span>\n            </button>\n          </a>\n          <button\n            className={'sk-button button sk-secondary-contrast icon-button'}\n            id={HtmlElementId.DownloadButton}\n            onClick={this.download}\n            title={'Download slides as HTML file'}\n          >\n            <span>&nbsp;</span>\n            <DownloadIcon role=\"button\" />\n            <span>&nbsp;</span>\n          </button>\n          <button\n            className={'sk-button button sk-secondary-contrast icon-button'}\n            id={HtmlElementId.PrintButton}\n            onClick={this.print}\n            title={'Print rendered slides'}\n          >\n            <span>&nbsp;</span>\n            <PrintIcon role=\"button\" />\n            <span>&nbsp;</span>\n          </button>\n        </div>\n        <main\n          id={HtmlElementId.EditorContainer}\n          className={this.state.mode.css}\n        >\n          <textarea\n            autoCapitalize=\"true\"\n            autoComplete=\"true\"\n            className={this.state.mode.css}\n            dir=\"auto\"\n            id={HtmlElementId.Editor}\n            onBlur={this.onBlur}\n            onChange={this.handleInputChange}\n            onFocus={this.onFocus}\n            onKeyDown={this.onKeyDown}\n            onKeyUp={this.onKeyUp}\n            placeholder=\"\"\n            spellCheck=\"true\"\n            value={text}\n          />\n          <div\n            className={this.state.mode.css}\n            id={HtmlElementId.ColumnResizer}\n          ></div>\n          <style id={HtmlElementId.MarpStyles}></style>\n          <section\n            className={this.state.mode.css}\n            id={HtmlElementId.View}\n            tabIndex={0}\n          ></section>\n        </main>\n      </div>,\n      <div id={HtmlElementId.MarpContent}></div>,\n    ];\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\n\nconst infoColor = 'var(--sn-stylekit-info-color)';\nconst foregroundColor = 'var(--sn-stylekit-foreground-color)';\n\ninterface Icons {\n  condition?: boolean;\n  fill?: string;\n  role: string;\n}\n\nexport const DownloadIcon: React.FC<Icons> = ({ fill, role }) => (\n  <svg\n    aria-label=\"download icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M11 3.5V9.5H12.17L10 11.67L7.83 9.5H9V3.5H11ZM13 1.5H7V7.5H3L10 14.5L17 7.5H13V1.5ZM17 16.5H3V18.5H17V16.5Z\"\n      fill={fill ? fill : foregroundColor}\n    />\n  </svg>\n);\n\nexport const HelpIcon: React.FC<Icons> = ({ fill, role }) => (\n  <svg\n    aria-label=\"help icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M9.16675 15.0001H10.8334V13.3334H9.16675V15.0001ZM10.0001 1.66675C8.90573 1.66675 7.8221 1.8823 6.81105 2.30109C5.80001 2.71987 4.88135 3.3337 4.10753 4.10753C2.54472 5.67033 1.66675 7.78995 1.66675 10.0001C1.66675 12.2102 2.54472 14.3298 4.10753 15.8926C4.88135 16.6665 5.80001 17.2803 6.81105 17.6991C7.8221 18.1179 8.90573 18.3334 10.0001 18.3334C12.2102 18.3334 14.3298 17.4554 15.8926 15.8926C17.4554 14.3298 18.3334 12.2102 18.3334 10.0001C18.3334 8.90573 18.1179 7.8221 17.6991 6.81105C17.2803 5.80001 16.6665 4.88135 15.8926 4.10753C15.1188 3.3337 14.2002 2.71987 13.1891 2.30109C12.1781 1.8823 11.0944 1.66675 10.0001 1.66675ZM10.0001 16.6668C6.32508 16.6668 3.33342 13.6751 3.33342 10.0001C3.33342 6.32508 6.32508 3.33342 10.0001 3.33342C13.6751 3.33342 16.6668 6.32508 16.6668 10.0001C16.6668 13.6751 13.6751 16.6668 10.0001 16.6668ZM10.0001 5.00008C9.11603 5.00008 8.26818 5.35127 7.64306 5.97639C7.01794 6.60151 6.66675 7.44936 6.66675 8.33342H8.33342C8.33342 7.89139 8.50901 7.46747 8.82157 7.1549C9.13413 6.84234 9.55806 6.66675 10.0001 6.66675C10.4421 6.66675 10.866 6.84234 11.1786 7.1549C11.4912 7.46747 11.6667 7.89139 11.6667 8.33342C11.6667 10.0001 9.16675 9.79175 9.16675 12.5001H10.8334C10.8334 10.6251 13.3334 10.4167 13.3334 8.33342C13.3334 7.44936 12.9822 6.60151 12.3571 5.97639C11.732 5.35127 10.8841 5.00008 10.0001 5.00008Z\"\n      fill={fill ? fill : foregroundColor}\n    />\n  </svg>\n);\n\nexport const PrintIcon: React.FC<Icons> = ({ fill, role }) => (\n  <svg\n    aria-label=\"print icon\"\n    role={role}\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M15.0001 2.5H5.00008V5.83333H15.0001V2.5ZM15.8334 10C15.6124 10 15.4004 9.9122 15.2442 9.75592C15.0879 9.59964 15.0001 9.38768 15.0001 9.16667C15.0001 8.94565 15.0879 8.73369 15.2442 8.57741C15.4004 8.42113 15.6124 8.33333 15.8334 8.33333C16.0544 8.33333 16.2664 8.42113 16.4227 8.57741C16.579 8.73369 16.6668 8.94565 16.6668 9.16667C16.6668 9.38768 16.579 9.59964 16.4227 9.75592C16.2664 9.9122 16.0544 10 15.8334 10ZM13.3334 15.8333H6.66675V11.6667H13.3334V15.8333ZM15.8334 6.66667H4.16675C3.50371 6.66667 2.86782 6.93006 2.39898 7.3989C1.93014 7.86774 1.66675 8.50363 1.66675 9.16667V14.1667H5.00008V17.5H15.0001V14.1667H18.3334V9.16667C18.3334 8.50363 18.07 7.86774 17.6012 7.3989C17.1323 6.93006 16.4965 6.66667 15.8334 6.66667Z\"\n      fill={fill ? fill : foregroundColor}\n    />\n  </svg>\n);\n","export const bespokeHtml = `<div class=\"bespoke-marp-osc\"><button data-bespoke-marp-osc=\"prev\" tabindex=\"-1\" title=\"Previous slide\">Previous slide</button><span data-bespoke-marp-osc=\"page\"></span><button data-bespoke-marp-osc=\"next\" tabindex=\"-1\" title=\"Next slide\">Next slide</button><button data-bespoke-marp-osc=\"fullscreen\" tabindex=\"-1\" title=\"Toggle fullscreen (f)\">Toggle fullscreen</button><button data-bespoke-marp-osc=\"presenter\" tabindex=\"-1\" title=\"Open presenter view (p)\">Open presenter view</button></div>`;\n\nexport const bespokeCss = `<style>.bespoke-marp-note,.bespoke-marp-osc,.bespoke-progress-parent{display:none;transition:none}@media screen{body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:0;color:inherit;cursor:pointer;font-size:inherit;opacity:.8;outline:none;padding:0;transition:opacity .2s linear;-webkit-tap-highlight-color:transparent}body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:disabled{cursor:not-allowed;opacity:.15!important}body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover{opacity:1}body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:active{opacity:.6}body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:not(:disabled){transition:none}body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-prev{background:transparent url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNNjggOTBMMjggNTBsNDAtNDAiLz48L3N2Zz4=\") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-next{background:transparent url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMzIgOTBsNDAtNDAtNDAtNDAiLz48L3N2Zz4=\") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen]{background:transparent url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJhIiB4PSIxMCIgeT0iMjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgcng9IjUuNjciLz48cGF0aCBjbGFzcz0iYSIgZD0iTTQwIDcwSDIwVjUwbTIwIDBMMjAgNzBtNDAtNDBoMjB2MjBtLTIwIDBsMjAtMjAiLz48L3N2Zz4=\") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen]{background-image:url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJhIiB4PSIxMCIgeT0iMjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgcng9IjUuNjciLz48cGF0aCBjbGFzcz0iYSIgZD0iTTIwIDUwaDIwdjIwbS0yMCAwbDIwLTIwbTQwIDBINjBWMzBtMjAgMEw2MCA1MCIvPjwvc3ZnPg==\")}body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter]{background:transparent url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS13aWR0aDo1cHh9PC9zdHlsZT48L2RlZnM+PHBhdGggY2xhc3M9ImEiIGQ9Ik0yMCA2MGgtNWE1IDUgMCAwMS01LTVWMjBhNSA1IDAgMDE1LTVoNjBhNSA1IDAgMDE1IDV2NU0zMCA4NWg2MCIvPjxyZWN0IHg9IjMwIiB5PSIzNSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjQwIiByeD0iNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIi8+PHJlY3QgY2xhc3M9ImEiIHg9IjMwIiB5PSIzNSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjQwIiByeD0iNSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNNDAgNTBoNDBNNDAgNjBoMzAiLz48L3N2Zz4=\") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body,html{height:100%;margin:0}body{background:#000;overflow:hidden}svg.bespoke-marp-slide{content-visibility:hidden;z-index:-1;pointer-events:none;opacity:0}svg.bespoke-marp-slide.bespoke-marp-active{content-visibility:visible;z-index:0;pointer-events:auto;opacity:1}svg.bespoke-marp-slide.bespoke-marp-active.bespoke-marp-active-ready *{-webkit-animation-name:__bespoke_marp__!important;animation-name:__bespoke_marp__!important}@supports not (content-visibility:hidden){svg.bespoke-marp-slide[data-bespoke-marp-load=hideable]{display:none}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable].bespoke-marp-active{display:block}}[data-bespoke-marp-fragment=inactive]{visibility:hidden}body[data-bespoke-view=\"\"] .bespoke-marp-parent,body[data-bespoke-view=next] .bespoke-marp-parent{bottom:0;left:0;position:absolute;right:0;top:0}body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc{background:rgba(0,0,0,.65);border-radius:7px;bottom:50px;color:#fff;display:block;font-family:Helvetica,Arial,sans-serif;font-size:16px;left:50%;line-height:0;opacity:1;padding:12px;position:absolute;touch-action:manipulation;transform:translateX(-50%);transition:opacity .2s linear;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;z-index:1;will-change:transform}body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>*,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>*{margin-left:6px}body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>:first-child,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>:first-child{margin-left:0}body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>span,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span{opacity:.8}body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page]{display:inline-block;min-width:140px;text-align:center}body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=\"\"] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev]{height:32px;line-height:32px;width:32px}body[data-bespoke-view=\"\"] .bespoke-marp-parent.bespoke-marp-inactive,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive{cursor:none}body[data-bespoke-view=\"\"] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc{opacity:0;pointer-events:none}body[data-bespoke-view=\"\"] svg.bespoke-marp-slide,body[data-bespoke-view=next] svg.bespoke-marp-slide{height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=\"\"] .bespoke-progress-parent{background:#222;display:flex;height:5px;width:100%}body[data-bespoke-view=\"\"] .bespoke-progress-parent+.bespoke-marp-parent{top:5px}body[data-bespoke-view=\"\"] .bespoke-progress-parent .bespoke-progress-bar{flex:0 0 0;background:#0288d1;transition:flex-basis .2s cubic-bezier(0,1,1,1)}body[data-bespoke-view=next]{background:transparent}body[data-bespoke-view=presenter]{background:#161616}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container{font-family:Helvetica,Arial,sans-serif;height:100%;left:0;position:absolute;top:0;width:100%;display:grid;grid-template-columns:2fr 1fr;grid-template-rows:minmax(140px,1fr) 2fr 3em;grid-template-areas:\"current next\" \"current note\" \"info    note\"}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent{grid-area:current;position:relative;overflow:hidden}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide{height:calc(100% - 40px);left:20px;position:absolute;pointer-events:none;top:20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide.bespoke-marp-active{filter:drop-shadow(0 3px 10px rgba(0,0,0,.5))}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container{background:#222;cursor:pointer;display:none;grid-area:next;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container iframe.bespoke-marp-presenter-next{background:transparent;border:0;display:block;filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));height:calc(100% - 40px);left:20px;position:absolute;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;top:20px;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container{background:#222;color:#eee;grid-area:note}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note{margin:20px;width:calc(100% - 40px);height:calc(100% - 40px);box-sizing:border-box;font-size:1.1em;overflow:auto;padding-right:3px;white-space:pre-wrap;word-wrap:break-word;scrollbar-width:thin;scrollbar-color:hsla(0,0%,93.3%,.5) transparent}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar{width:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-track{background:transparent}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-thumb{background:hsla(0,0%,93.3%,.5);border-radius:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note:empty{pointer-events:none}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:first-child{margin-top:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:last-child{margin-bottom:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container{align-items:center;box-sizing:border-box;color:#eee;display:flex;flex-wrap:nowrap;grid-area:info;justify-content:center;padding:0 10px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{display:block;box-sizing:border-box;padding:0 10px;white-space:nowrap;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page{order:2;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page .bespoke-marp-presenter-info-page-text{display:inline-block;min-width:120px;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time{color:#999;order:1;text-align:left}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{color:#999;order:3;text-align:right}}@media print{.bespoke-marp-presenter-info-container,.bespoke-marp-presenter-next-container,.bespoke-marp-presenter-note-container{display:none}}</style>`;\n\nexport const bespokeScript =\n  // eslint-disable-next-line no-template-curly-in-string\n  '<script>!function(){\"use strict\";var e=function(e,t){var n,r=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),s=[].filter.call(\"string\"==typeof e.slides?r.querySelectorAll(e.slides):e.slides||r.children,(function(e){return\"SCRIPT\"!==e.nodeName})),a={},i=function(e,t){return(t=t||{}).index=s.indexOf(e),t.slide=e,t},o=function(e,t){a[e]=(a[e]||[]).filter((function(e){return e!==t}))},l=function(e,t){return(a[e]||[]).reduce((function(e,n){return e&&!1!==n(t)}),!0)},c=function(e,t){s[e]&&(n&&l(\"deactivate\",i(n,t)),n=s[e],l(\"activate\",i(n,t)))},d=function(e,t){var r=s.indexOf(n)+e;l(e>0?\"next\":\"prev\",i(n,t))&&c(r,t)},u={off:o,on:function(e,t){return(a[e]||(a[e]=[])).push(t),o.bind(null,e,t)},fire:l,slide:function(e,t){if(!arguments.length)return s.indexOf(n);l(\"slide\",i(s[e],t))&&c(e,t)},next:d.bind(null,1),prev:d.bind(null,-1),parent:r,slides:s,destroy:function(e){l(\"destroy\",i(n,e)),a={}}};return(t||[]).forEach((function(e){e(u)})),n||c(0),u};function t(e){e.parent.classList.add(\"bespoke-marp-parent\"),e.slides.forEach((e=>e.classList.add(\"bespoke-marp-slide\"))),e.on(\"activate\",(t=>{const n=t.slide,r=!n.classList.contains(\"bespoke-marp-active\");e.slides.forEach((e=>{e.classList.remove(\"bespoke-marp-active\"),e.setAttribute(\"aria-hidden\",\"true\")})),n.classList.add(\"bespoke-marp-active\"),n.removeAttribute(\"aria-hidden\"),r&&(n.classList.add(\"bespoke-marp-active-ready\"),document.body.clientHeight,n.classList.remove(\"bespoke-marp-active-ready\"))}))}function n(e){let t=0,n=0;Object.defineProperty(e,\"fragments\",{enumerable:!0,value:e.slides.map((e=>[null,...e.querySelectorAll(\"[data-marpit-fragment]\")]))});const r=r=>void 0!==e.fragments[t][n+r],s=(r,s)=>{t=r,n=s,e.fragments.forEach(((e,t)=>{e.forEach(((e,n)=>{if(null==e)return;const a=t<r||t===r&&n<=s;e.setAttribute(\"data-bespoke-marp-fragment\",a?\"active\":\"inactive\"),t===r&&n===s?e.setAttribute(\"data-bespoke-marp-current-fragment\",\"current\"):e.removeAttribute(\"data-bespoke-marp-current-fragment\")}))})),e.fragmentIndex=s;const a={slide:e.slides[r],index:r,fragments:e.fragments[r],fragmentIndex:s};e.fire(\"fragment\",a)};e.on(\"next\",(({fragment:a=!0})=>{if(a){if(r(1))return s(t,n+1),!1;const a=t+1;e.fragments[a]&&s(a,0)}else{const r=e.fragments[t].length;if(n+1<r)return s(t,r-1),!1;const a=e.fragments[t+1];a&&s(t+1,a.length-1)}})),e.on(\"prev\",(({fragment:a=!0})=>{if(r(-1)&&a)return s(t,n-1),!1;const i=t-1;e.fragments[i]&&s(i,e.fragments[i].length-1)})),e.on(\"slide\",(({index:t,fragment:n})=>{let r=0;if(void 0!==n){const s=e.fragments[t];if(s){const{length:e}=s;r=-1===n?e-1:Math.min(Math.max(n,0),e-1)}}s(t,r)})),s(0,0)}\\n/*!\\n* screenfull\\n* v5.0.2 - 2020-02-13\\n* (c) Sindre Sorhus; MIT License\\n*/\\nvar r,s=(function(e){!function(){var t=\"undefined\"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r=function(){for(var e,n=[[\"requestFullscreen\",\"exitFullscreen\",\"fullscreenElement\",\"fullscreenEnabled\",\"fullscreenchange\",\"fullscreenerror\"],[\"webkitRequestFullscreen\",\"webkitExitFullscreen\",\"webkitFullscreenElement\",\"webkitFullscreenEnabled\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"webkitRequestFullScreen\",\"webkitCancelFullScreen\",\"webkitCurrentFullScreenElement\",\"webkitCancelFullScreen\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"mozRequestFullScreen\",\"mozCancelFullScreen\",\"mozFullScreenElement\",\"mozFullScreenEnabled\",\"mozfullscreenchange\",\"mozfullscreenerror\"],[\"msRequestFullscreen\",\"msExitFullscreen\",\"msFullscreenElement\",\"msFullscreenEnabled\",\"MSFullscreenChange\",\"MSFullscreenError\"]],r=0,s=n.length,a={};r<s;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)a[n[0][r]]=e[r];return a}return!1}(),s={change:r.fullscreenchange,error:r.fullscreenerror},a={request:function(e){return new Promise(function(n,s){var a=function(){this.off(\"change\",a),n()}.bind(this);this.on(\"change\",a);var i=(e=e||t.documentElement)[r.requestFullscreen]();i instanceof Promise&&i.then(a).catch(s)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var s=function(){this.off(\"change\",s),e()}.bind(this);this.on(\"change\",s);var a=t[r.exitFullscreen]();a instanceof Promise&&a.then(s).catch(n)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on(\"change\",e)},onerror:function(e){this.on(\"error\",e)},on:function(e,n){var r=s[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=s[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=a:window.screenfull=a):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()}(r={exports:{}},r.exports),r.exports);function a(e){e.fullscreen=()=>{s.isEnabled&&s.toggle(document.body)},document.addEventListener(\"keydown\",(t=>{70!==t.which&&122!==t.which||t.altKey||t.ctrlKey||t.metaKey||!s.isEnabled||(e.fullscreen(),t.preventDefault())}))}function i(e=2e3){return t=>{let n;function r(){n&&clearTimeout(n),n=setTimeout((()=>{t.parent.classList.add(\"bespoke-marp-inactive\"),t.fire(\"marp-inactive\")}),e),t.parent.classList.contains(\"bespoke-marp-inactive\")&&(t.parent.classList.remove(\"bespoke-marp-inactive\"),t.fire(\"marp-active\"))}document.addEventListener(\"mousedown\",r),document.addEventListener(\"mousemove\",r),document.addEventListener(\"touchend\",r),setTimeout(r,0)}}const o=[\"AUDIO\",\"BUTTON\",\"INPUT\",\"SELECT\",\"TEXTAREA\",\"VIDEO\"];function l(e){e.parent.addEventListener(\"keydown\",(e=>{if(!e.target)return;const t=e.target;(o.includes(t.nodeName)||\"true\"===t.contentEditable)&&e.stopPropagation()}))}function c(e){window.addEventListener(\"load\",(()=>{for(const t of e.slides){const e=t.querySelector(\"[data-marp-fitting]\")?\"\":\"hideable\";t.setAttribute(\"data-bespoke-marp-load\",e)}}))}var d;function u({interval:e=200}={}){return t=>{document.addEventListener(\"keydown\",(e=>{if(32===e.which&&e.shiftKey)t.prev();else if(33===e.which||37===e.which||38===e.which)t.prev({fragment:!e.shiftKey});else if(32!==e.which||e.shiftKey)if(34===e.which||39===e.which||40===e.which)t.next({fragment:!e.shiftKey});else if(35===e.which)t.slide(t.slides.length-1,{fragment:-1});else{if(36!==e.which)return;t.slide(0)}else t.next();e.preventDefault()}));let n,r,s=0;t.parent.addEventListener(\"wheel\",(a=>{let i=!1;const o=(e,t)=>{e&&(i=i||function(e,t){return function(e,t){const n=t===d.X?\"Width\":\"Height\";return e[`client${n}`]<e[`scroll${n}`]}(e,t)&&function(e,t){const{overflow:n}=e,r=e[`overflow${t}`];return\"auto\"===n||\"scroll\"===n||\"auto\"===r||\"scroll\"===r}(getComputedStyle(e),t)}(e,t)),(null==e?void 0:e.parentElement)&&o(e.parentElement,t)};if(0!==a.deltaX&&o(a.target,d.X),0!==a.deltaY&&o(a.target,d.Y),i)return;a.preventDefault(),r&&clearTimeout(r),r=setTimeout((()=>{n=0}),e);const l=Date.now()-s<e,c=Math.sqrt(Math.pow(a.deltaX,2)+Math.pow(a.deltaY,2)),u=c<=n;if(n=c,l||u)return;let f;(a.deltaX>0||a.deltaY>0)&&(f=\"next\"),(a.deltaX<0||a.deltaY<0)&&(f=\"prev\"),f&&(t[f](),s=Date.now())}))}}!function(e){e.X=\"X\",e.Y=\"Y\"}(d||(d={}));const f=(...e)=>history.replaceState(...e),m=\"data-bespoke-view\";var p;!function(e){e.Normal=\"\",e.Presenter=\"presenter\",e.Next=\"next\"}(p||(p={}));const h=(e,{protocol:t,host:n,pathname:r,hash:s}=location)=>{const a=e.toString();return`${t}//${n}${r}${a?\"?\":\"\"}${a}${s}`},g=()=>{switch(document.body.getAttribute(m)){case p.Normal:return p.Normal;case p.Presenter:return p.Presenter;case p.Next:return p.Next;default:throw new Error(\"View mode is not assigned.\")}},v=e=>new URLSearchParams(location.search).get(e),b=(e,t={})=>{const n=Object.assign({location:location,setter:f},t),r=new URLSearchParams(n.location.search);for(const t of Object.keys(e)){const n=e[t];\"string\"==typeof n?r.set(t,n):r.delete(t)}try{n.setter(null,document.title,h(r,n.location))}catch(e){console.error(e)}},w={available:(()=>{try{return localStorage.setItem(\"bespoke-marp\",\"bespoke-marp\"),localStorage.removeItem(\"bespoke-marp\"),!0}catch(e){return console.warn(\"Warning: Using localStorage is restricted in the current host so some features may not work.\"),!1}})(),get:e=>{try{return localStorage.getItem(e)}catch(e){return null}},set:(e,t)=>{try{return localStorage.setItem(e,t),!0}catch(e){return!1}},remove:e=>{try{return localStorage.removeItem(e),!0}catch(e){return!1}}};function y(e=\".bespoke-marp-osc\"){const t=document.querySelector(e);if(!t)return()=>{};const n=(e,n)=>{t.querySelectorAll(`[data-bespoke-marp-osc=${JSON.stringify(e)}]`).forEach(n)};return s.isEnabled||n(\"fullscreen\",(e=>e.style.display=\"none\")),w.available||n(\"presenter\",(e=>{e.disabled=!0,e.title=\"Presenter view is disabled due to restricted localStorage.\"})),e=>{t.addEventListener(\"click\",(t=>{if(t.target instanceof HTMLElement){const{bespokeMarpOsc:n}=t.target.dataset;switch(n&&t.target.blur(),n){case\"next\":e.next({fragment:!t.shiftKey});break;case\"prev\":e.prev({fragment:!t.shiftKey});break;case\"fullscreen\":\"function\"==typeof e.fullscreen&&s.isEnabled&&e.fullscreen();break;case\"presenter\":e.openPresenterView()}}})),e.parent.appendChild(t),e.on(\"activate\",(({index:t})=>{n(\"page\",(n=>n.textContent=`Page ${t+1} of ${e.slides.length}`))})),e.on(\"fragment\",(({index:t,fragments:r,fragmentIndex:s})=>{n(\"prev\",(e=>e.disabled=0===t&&0===s)),n(\"next\",(n=>n.disabled=t===e.slides.length-1&&s===r.length-1))})),e.on(\"marp-active\",(()=>t.removeAttribute(\"aria-hidden\"))),e.on(\"marp-inactive\",(()=>t.setAttribute(\"aria-hidden\",\"true\"))),s.isEnabled&&s.onchange((()=>n(\"fullscreen\",(e=>e.classList.toggle(\"exit\",s.isEnabled&&s.isFullscreen)))))}}function x(){const e=Math.max(Math.floor(.85*window.innerWidth),640),t=Math.max(Math.floor(.85*window.innerHeight),360);return window.open(this.presenterUrl,`bespoke-marp-presenter-${this.syncKey}`,`width=${e},height=${t},menubar=no,toolbar=no`)}function k(){const e=new URLSearchParams(location.search);return e.set(\"view\",\"presenter\"),e.set(\"sync\",this.syncKey),h(e)}var E=[\"area\",\"base\",\"br\",\"col\",\"command\",\"embed\",\"hr\",\"img\",\"input\",\"keygen\",\"link\",\"meta\",\"param\",\"source\",\"track\",\"wbr\"];let L=e=>String(e).replace(/[&<>\"\\']/g,(e=>`&${S[e]};`)),S={\"&\":\"amp\",\"<\":\"lt\",\">\":\"gt\",\\'\"\\':\"quot\",\"\\'\":\"apos\"},I=\"dangerouslySetInnerHTML\",P={className:\"class\",htmlFor:\"for\"},M={};function N(e,t){let n=[],r=\"\";t=t||{};for(let e=arguments.length;e-- >2;)n.push(arguments[e]);if(\"function\"==typeof e)return t.children=n.reverse(),e(t);if(e){if(r+=\"<\"+e,t)for(let e in t)!1!==t[e]&&null!=t[e]&&e!==I&&(r+=` ${P[e]?P[e]:L(e)}=\"${L(t[e])}\"`);r+=\">\"}if(-1===E.indexOf(e)){if(t[I])r+=t[I].__html;else for(;n.length;){let e=n.pop();if(e)if(e.pop)for(let t=e.length;t--;)n.push(e[t]);else r+=!0===M[e]?e:L(e)}r+=e?`</${e}>`:\"\"}return M[r]=!0,r}const F=({children:e})=>N(null,null,...e),$=\"bespoke-marp-presenter-container\",O=\"bespoke-marp-presenter-next\",q=\"bespoke-marp-presenter-next-container\",C=\"bespoke-marp-presenter-note-container\",T=\"bespoke-marp-presenter-info-container\",A=\"bespoke-marp-presenter-info-page\",K=\"bespoke-marp-presenter-info-page-text\",j=\"bespoke-marp-presenter-info-page-prev\",R=\"bespoke-marp-presenter-info-page-next\",U=\"bespoke-marp-presenter-info-time\",D=\"bespoke-marp-presenter-info-timer\";function V(e){const{title:t}=document;document.title=\"[Presenter view]\"+(t?` - ${t}`:\"\");const n={},r=e=>(n[e]=n[e]||document.querySelector(`.${e}`),n[e]);document.body.appendChild((e=>{const t=document.createElement(\"div\");return t.className=$,t.appendChild(e),t.insertAdjacentHTML(\"beforeend\",N(F,null,N(\"div\",{class:q},N(\"iframe\",{class:O,src:\"?view=next\"})),N(\"div\",{class:C}),N(\"div\",{class:T},N(\"div\",{class:A},N(\"button\",{class:j,tabindex:\"-1\",title:\"Previous\"},\"Previous\"),N(\"span\",{class:K}),N(\"button\",{class:R,tabindex:\"-1\",title:\"Next\"},\"Next\")),N(\"time\",{class:U,title:\"Current time\"}),N(\"div\",{class:D})))),t})(e.parent)),(e=>{r(q).addEventListener(\"click\",(()=>e.next()));const t=r(O),n=(s=t,(e,t)=>{var n;return null===(n=s.contentWindow)||void 0===n?void 0:n.postMessage(`navigate:${e},${t}`,\"null\"===window.origin?\"*\":window.origin)});var s;t.addEventListener(\"load\",(()=>{r(q).classList.add(\"active\"),n(e.slide(),e.fragmentIndex),e.on(\"fragment\",(({index:e,fragmentIndex:t})=>n(e,t)))}));const a=document.querySelectorAll(\".bespoke-marp-note\");a.forEach((e=>{e.addEventListener(\"keydown\",(e=>e.stopPropagation())),r(C).appendChild(e)})),e.on(\"activate\",(()=>a.forEach((t=>t.classList.toggle(\"active\",t.dataset.index==e.slide()))))),e.on(\"activate\",(({index:t})=>{r(K).textContent=`${t+1} / ${e.slides.length}`}));const i=r(j),o=r(R);i.addEventListener(\"click\",(t=>{i.blur(),e.prev({fragment:!t.shiftKey})})),o.addEventListener(\"click\",(t=>{o.blur(),e.next({fragment:!t.shiftKey})})),e.on(\"fragment\",(({index:t,fragments:n,fragmentIndex:r})=>{i.disabled=0===t&&0===r,o.disabled=t===e.slides.length-1&&r===n.length-1}));const l=()=>r(U).textContent=(new Date).toLocaleTimeString();l(),setInterval(l,250)})(e)}function X(e){const t=g();return t===p.Next&&e.appendChild(document.createElement(\"span\")),e=>{t===p.Normal&&function(e){if(!(e=>e.syncKey&&\"string\"==typeof e.syncKey)(e))throw new Error(\"The current instance of Bespoke.js is invalid for Marp bespoke presenter plugin.\");Object.defineProperties(e,{openPresenterView:{enumerable:!0,value:x},presenterUrl:{enumerable:!0,get:k}}),w.available&&document.addEventListener(\"keydown\",(t=>{80!==t.which||t.altKey||t.ctrlKey||t.metaKey||(t.preventDefault(),e.openPresenterView())}))}(e),t===p.Presenter&&V(e),t===p.Next&&function(e){const t=t=>{if(t.origin!==window.origin)return;const[n,r]=t.data.split(\":\");if(\"navigate\"===n){const[t,n]=r.split(\",\");let s=Number.parseInt(t,10),a=Number.parseInt(n,10)+1;a>=e.fragments[s].length&&(s+=1,a=0),e.slide(s,{fragment:a})}};window.addEventListener(\"message\",t),e.on(\"destroy\",(()=>window.removeEventListener(\"message\",t)))}(e)}}function Y(e){e.on(\"activate\",(t=>{document.querySelectorAll(\".bespoke-progress-parent > .bespoke-progress-bar\").forEach((n=>{n.style.flexBasis=100*t.index/(e.slides.length-1)+\"%\"}))}))}const B=e=>{const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t};function z(e={}){const t=Object.assign({history:!0},e);return e=>{let n=!0;const r=e=>{const t=n;try{return n=!0,e()}finally{n=t}},s=(t={fragment:!0})=>{((t,n)=>{const{fragments:r,slides:s}=e,a=Math.max(0,Math.min(t,s.length-1)),i=Math.max(0,Math.min(n||0,r[a].length-1));a===e.slide()&&i===e.fragmentIndex||e.slide(a,{fragment:i})})((B(location.hash.slice(1))||1)-1,t.fragment?B(v(\"f\")||\"\"):null)};e.on(\"fragment\",(({index:e,fragmentIndex:r})=>{n||b({f:0===r||r.toString()},{location:Object.assign(Object.assign({},location),{hash:`#${e+1}`}),setter:(...e)=>t.history?history.pushState(...e):history.replaceState(...e)})})),setTimeout((()=>{s(),window.addEventListener(\"hashchange\",(()=>r((()=>{s({fragment:!1}),b({f:void 0})})))),window.addEventListener(\"popstate\",(()=>{n||r((()=>s()))})),n=!1}),0)}}let H;function W(e={}){const t=e.key||((e=21)=>{let t=\"\",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?\"_\":\"-\"}return t})(),n=`bespoke-marp-sync-${t}`,r=()=>{const e=w.get(n);return e?JSON.parse(e):Object.create(null)},s=e=>{const t=r(),s=Object.assign(Object.assign({},t),e(t));return w.set(n,JSON.stringify(s)),s};return s((e=>({reference:(e.reference||0)+1}))),e=>{Object.defineProperty(e,\"syncKey\",{value:t,enumerable:!0});let a=!0;setTimeout((()=>{e.on(\"fragment\",(e=>{a&&s((()=>({index:e.index,fragmentIndex:e.fragmentIndex})))}))}),0),window.addEventListener(\"storage\",(t=>{if(t.key===n&&t.oldValue&&t.newValue){const n=JSON.parse(t.oldValue),r=JSON.parse(t.newValue);if(n.index!==r.index||n.fragmentIndex!==r.fragmentIndex)try{a=!1,e.slide(r.index,{fragment:r.fragmentIndex})}finally{a=!0}}})),e.on(\"destroy\",(()=>{const{reference:e}=r();void 0===e||e<=1?w.remove(n):s((()=>({reference:e-1})))}))}}function J({slope:e=Math.tan(-35*Math.PI/180),swipeThreshold:t=30}={}){return n=>{let r;const s=n.parent,a=e=>{const t=s.getBoundingClientRect();return{x:e.pageX-(t.left+t.right)/2,y:e.pageY-(t.top+t.bottom)/2}};s.addEventListener(\"touchstart\",(e=>{r=1===e.touches.length?a(e.touches[0]):void 0}),{passive:!0}),s.addEventListener(\"touchmove\",(e=>{if(r)if(1===e.touches.length){e.preventDefault();const t=a(e.touches[0]),n=t.x-r.x,s=t.y-r.y;r.delta=Math.sqrt(Math.pow(Math.abs(n),2)+Math.pow(Math.abs(s),2)),r.radian=Math.atan2(n,s)}else r=void 0})),s.addEventListener(\"touchend\",(s=>{if(r){if(r.delta&&r.delta>=t&&r.radian){let t=r.radian-e;t=(t+Math.PI)%(2*Math.PI)-Math.PI,n[t<0?\"next\":\"prev\"](),s.stopPropagation()}r=void 0}}),{passive:!0})}}\\n/*! *****************************************************************************\\nCopyright (c) Microsoft Corporation.\\n\\nPermission to use, copy, modify, and/or distribute this software for any\\npurpose with or without fee is hereby granted.\\n\\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\\nPERFORMANCE OF THIS SOFTWARE.\\n***************************************************************************** */function _(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))}const G=()=>(void 0===H&&(H=\"wakeLock\"in navigator&&navigator.wakeLock),H),Q=()=>_(void 0,void 0,void 0,(function*(){const e=G();if(e)try{const t=yield e.request(\"screen\");return t.addEventListener(\"release\",(()=>{console.debug(\"[Marp CLI] Wake Lock was released\")})),console.debug(\"[Marp CLI] Wake Lock is active\"),t}catch(e){console.warn(e)}return null}));function Z(){return _(this,void 0,void 0,(function*(){if(!G())return;let e;const t=()=>{e&&\"visible\"===document.visibilityState&&Q()};return document.addEventListener(\"visibilitychange\",t),document.addEventListener(\"fullscreenchange\",t),e=yield Q(),e}))}const ee=[p.Normal,p.Presenter,p.Next];!function(r=document.getElementById(\"p\")){document.body.setAttribute(m,(()=>{switch(v(\"view\")){case\"next\":return p.Next;case\"presenter\":return p.Presenter;default:return p.Normal}})());const s=(e=>{const t=v(e);return b({[e]:void 0}),t})(\"sync\")||void 0,o=!1,d=!0,f=e(r,((...e)=>{const t=ee.findIndex((e=>g()===e));if(t<0)throw new Error(\"Invalid view\");return e.map((([e,n])=>e[t]&&n)).filter((e=>e))})([[d,d,o],W({key:s})],[[d,d,d],X(r)],[[d,d,o],l],[[d,d,d],t],[[d,o,o],i()],[[d,d,d],c],[[d,d,d],z({history:!1})],[[d,d,o],u()],[[d,d,o],a],[[d,o,o],Y],[[d,d,o],J()],[[d,o,o],y()],[[d,d,d],n],[[d,d,o],Z]));window.addEventListener(\"beforeunload\",(()=>b({sync:f.syncKey}))),window.addEventListener(\"unload\",(()=>f.destroy()))}()}();</script>';\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport reportWebVitals from './reportWebVitals';\n\nimport Editor from './components/Editor';\nimport './stylesheets/main.scss';\nReactDOM.render(\n  <React.StrictMode>\n    <Editor />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}